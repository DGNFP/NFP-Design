/* ========================================
   ë‹¨ìˆœí•˜ê³  íš¨ê³¼ì ì¸ ì´ë¯¸ì§€ CLS ë°©ì§€ CSS
   ======================================== */

/* ========================================
   ì´ë¯¸ì§€ í¬ë¡­ ì—†ëŠ” ì•ˆì „í•œ CLS ë°©ì§€ CSS
   ======================================== */

/* ğŸ¯ ê¸°ë³¸ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
.post-body img[src^="/img/uploads/"] {
    max-width: 70% !important; 
    height: auto !important;
    margin: 0 0 20px 0 !important;
    display: block !important;
    border-radius: 4px !important;
}

/* ğŸ¯ ë˜í¼ ìŠ¤íƒ€ì¼ - aspect-ratio ì™„ì „ ì œê±° */
.img-aspect-wrapper {
    contain: layout style paint;
    transition: height 0.15s ease;
    min-height: 300px; /* ê³ ì • ìµœì†Œ ë†’ì´ë¡œ ì´ˆê¸° ê³µê°„ í™•ë³´ */
}

/* ğŸ¯ ìŠ¤ì¼ˆë ˆí†¤ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes shimmer {
    0% { background-position: -200px 0; }
    100% { background-position: calc(200px + 100%) 0; }
}

/* ë°˜ì‘í˜• ì²˜ë¦¬ */
@media (max-width: 768px) {
    .post-body img[src^="/img/uploads/"] {
        max-width: 100% !important;
        border-radius: 6px !important;
    }
    
    .img-aspect-wrapper {
        width: 100% !important;
        min-height: 250px; /* ëª¨ë°”ì¼ ìµœì†Œ ë†’ì´ */
    }
}

@media (max-width: 576px) {
    .post-body img[src^="/img/uploads/"] {
        max-width: 75% !important;
        border-radius: 4px !important;
    }
    
    .img-aspect-wrapper {
        width: 75% !important;
        min-height: 200px; /* ì‘ì€ ëª¨ë°”ì¼ ìµœì†Œ ë†’ì´ */
    }
}

/* ì„±ëŠ¥ ìµœì í™” */
.post-body img[src^="/img/uploads/"] {
    will-change: opacity;
}

/* ì‚¬ìš©ìê°€ ì• ë‹ˆë©”ì´ì…˜ì„ ì„ í˜¸í•˜ì§€ ì•ŠëŠ” ê²½ìš° */
@media (prefers-reduced-motion: reduce) {
    .img-aspect-wrapper {
        animation: none !important;
        transition: none !important;
    }
    
    .post-body img[src^="/img/uploads/"] {
        transition: opacity 0.1s ease !important;
    }
}