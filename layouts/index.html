{{ define "main" }}
<!-- 메인페이지 전용 CSS -->
<link rel="stylesheet" href="{{ "css/popup.css" | relURL }}">

<!-- 히어로 섹션 -->
<section class="hero" id="home">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">안녕하세요.<br><span>NFP 디자인 </span>입니다.</h1>
            <p class="hero-subtitle"><br>고객의 <span>Needs</span>를 읽는 섬세한 시선<br>트렌드를 이끄는 <span>Fresh</span>한 감각<br>디테일을 살린 <span>Pop</span>한 디자인<br><span>NFP</span> 디자인, 디테일에서 시작해 트렌드를 완성하다.</p>
            <div class="hero-btns">
                <a href="{{ "posts" | relURL }}" class="btn">작업 보기</a>
                <a href="#contact" class="btn btn-outline">연락하기</a>
            </div>
        </div>
    </div>
</section>

<!-- 프로젝트 섹션 -->
<section id="design">
    <div class="container">
        <h2 class="section-title">프로젝트</h2>
        <div class="design-grid">
            <div class="design-item">
                <a href="{{ "/categories/web/" | relURL }}">
                    <img src="{{ "img/design1.jpg" | relURL }}" alt="웹 디자인" class="design-img">
                    <div class="design-overlay">
                        <h3 class="design-title">웹 디자인</h3>
                        <p class="design-sub">홈페이지, 랜딩페이지, 광고 배너 등 웹 기반 디자인</p>
                        <a href="{{ "/categories/web/" | relURL }}" class="view-work">상세보기</a>
                    </div>
                </a>
            </div>

            <div class="design-item">
                <a href="{{ "/categories/content/" | relURL }}">
                    <img src="{{ "img/design1.jpg" | relURL }}" alt="컨텐츠 디자인" class="design-img">
                    <div class="design-overlay">
                        <h3 class="design-title">컨텐츠 디자인</h3>
                        <p class="design-sub">카드뉴스, 상세페이지, 포스터 등 다양한 컨텐츠 디자인</p>
                        <a href="{{ "/categories/content/" | relURL }}" class="view-work">상세보기</a>
                    </div>
                </a>
            </div>

            <div class="design-item">
                <a href="{{ "/categories/creative/" | relURL }}">
                    <img src="{{ "img/design1.jpg" | relURL }}" alt="크리에이티브 디자인" class="design-img">
                    <div class="design-overlay">
                        <h3 class="design-title">크리에이티브 디자인</h3>
                        <p class="design-sub">게임광고, 로고, 인터넷 방송 등 다양한 디지털 컨텐츠</p>
                        <a href="{{ "/categories/creative/" | relURL }}" class="view-work">상세보기</a>
                    </div>
                </a>
            </div>

            <div class="design-item">
                <a href="{{ "/categories/video/" | relURL }}">
                    <img src="{{ "img/design1.jpg" | relURL }}" alt="영상 디자인" class="design-img">
                    <div class="design-overlay">
                        <h3 class="design-title">영상 디자인</h3>
                        <p class="design-sub">영상 제작, 영상 편집, 모션 그래픽 등 영상 관련 작업</p>
                        <a href="{{ "/categories/video/" | relURL }}" class="view-work">상세보기</a>
                    </div>
                </a>
            </div>

            <div class="design-item">
                <a href="{{ "/categories/ad/" | relURL }}">
                    <img src="{{ "img/design1.jpg" | relURL }}" alt="광고,인쇄 디자인" class="design-img">
                    <div class="design-overlay">
                        <h3 class="design-title">광고/인쇄 디자인</h3>
                        <p class="design-sub">현수막, 명함, 브로슈어 등 오프라인 매체 디자인</p>
                        <a href="{{ "/categories/ad/" | relURL }}" class="view-work">상세보기</a>
                    </div>
                </a>
            </div>

            <div class="design-item">
                <a href="{{ "/categories/programming/" | relURL }}">
                    <img src="{{ "img/design1.jpg" | relURL }}" alt="프로그래밍" class="design-img">
                    <div class="design-overlay">
                        <h3 class="design-title">프로그래밍</h3>
                        <p class="design-sub">퍼블리싱, 프론트엔드, 게임개발 등 프로그래밍 관련 작업</p>
                        <a href="{{ "/categories/programming/" | relURL }}" class="view-work">상세보기</a>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- 소개 섹션 -->
<section id="about" class="about">
    <div class="container">
        <h2 class="section-title">소개</h2>
        <div class="about-content">
            <div class="about-info">
                <h3>열정적인 디자이너의 이야기</h3>
                <p>10년 이상의 디자인 경력을 바탕으로 다양한 브랜드와 협업하며 창의적인 비전을 실현해왔습니다. 디자인은 단순한 직업이 아닌 저의 열정이자 삶의 방식입니다.</p>
                <p>미니멀리즘과 기능성을 중시하면서도 독창적인 요소를 통해 차별화된 디자인을 추구합니다. 클라이언트의 요구사항을 깊이 이해하고 공감하여 문제를 해결하는 디자인을 제공합니다.</p>
                <div class="skills">
                    <span class="skill-main">#웹 디자인</span>
                    <span class="skill">홈페이지</span>
                    <span class="skill">디지털 배너</span>
                    <span class="skill-main">#컨텐츠 디자인</span>
                    <span class="skill">카드뉴스</span>
                    <span class="skill">상세페이지</span>
                    <span class="skill">썸네일</span>
                    <span class="skill">SNS이미지</span>
                    <span class="skill">피드광고</span>
                    <span class="skill">포스터</span>
                    <span class="skill-main">#영상 디자인</span>
                    <span class="skill">영상 제작</span>
                    <span class="skill">영상 편집</span>
                    <span class="skill">모션 그래픽</span>
                    <span class="skill-main">#광고/인쇄 디자인</span>
                    <span class="skill">명함</span>
                    <span class="skill">현수막</span>
                    <span class="skill">브로슈어</span>
                    <span class="skill">카달로그</span>
                </div>
                <a href="#contact" class="btn">함께 일해요</a>
            </div>
            <img src="{{ "img/design1.jpg" | relURL }}" alt="프로필 이미지" class="about-img">
        </div>
    </div>
</section>

<!-- 소식 섹션 -->
<section id="news" class="news">
    <div class="container">
        <div class="news-header">
            <h2 class="section-title">소식</h2>
            <a href="/news/" class="btn btn-more">더보기</a>
        </div>
        <div class="news-content">
            <div class="banner-container">
                <div class="banner-slider">
                    {{ $newsPosts := where site.RegularPages "Section" "news" }}
                    {{ range $index, $post := first 5 $newsPosts }}
                    <div class="banner{{ if eq $index 0 }} active{{ end }}">
                        <img src="{{ $post.Params.thumbnail | default "img/banner1.jpg" }}" class="pc_img" alt="소식 배너 {{ add $index 1 }}">
                    </div>
                    {{ else }}
                    <div class="banner active">
                        <img src="img/banner1.jpg" class="pc_img" alt="기본 배너">
                    </div>
                    {{ end }}
                </div>
                <button class="banner-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
                <button class="banner-btn next-btn"><i class="fas fa-chevron-right"></i></button>
                <div class="banner-dots">
                    {{ range $index, $post := first 5 $newsPosts }}
                    <span class="dot{{ if eq $index 0 }} active{{ end }}" data-index="{{ $index }}"></span>
                    {{ else }}
                    <span class="dot active" data-index="0"></span>
                    {{ end }}
                </div>
            </div>
            <div class="news-list">
                {{ range first 5 $newsPosts }}
                <div class="news-item">
                    <a href="{{ .Permalink }}" class="news-link">
                        <span class="news-title">{{ .Title }}</span>
                        <span class="news-date">{{ .Date.Format "2006.01.02" }}</span>
                    </a>
                </div>
                {{ else }}
                <div class="news-item">
                    <div class="news-link">
                        <span class="news-title">소식이 없습니다</span>
                        <span class="news-date">2025.05.24</span>
                    </div>
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</section>

<!-- 연락처 섹션 -->
<section id="contact" class="contact">
    <div class="container">
        <h2 class="section-title">연락하기</h2>
        <div class="contact-form">
            <form id="contact-form" action="https://formspree.io/f/xpwdgdnq" method="POST">
                <div class="form-group">
                    <input type="text" name="name" class="form-control" placeholder="이름" required>
                </div>
                <div class="form-group">
                    <input type="email" name="email" class="form-control" placeholder="이메일" required>
                </div>
                <div class="form-group">
                    <input type="text" name="contact" class="form-control" placeholder="연락처 (전화번호 또는 카카오톡 ID)">
                </div> 
                <div class="form-group">
                    <textarea name="message" class="form-control" placeholder="메시지" required></textarea>
                </div>
                <button type="submit" class="btn" id="submit-btn">메시지 보내기</button>
            </form>
        </div>
    </div>
</section>

<!-- 팝업 배너 슬라이더 (PC 전용) -->
<div id="popup-banner" class="popup-banner">
    <div class="popup-banner-container">
        <!-- 배너 이미지 영역 -->
        <div class="popup-banner-slider">
            <div class="popup-banner-slide active">
                <img src="img/popup-banner-1.jpg" alt="팝업 배너 1">
            </div>
            <div class="popup-banner-slide">
                <img src="img/popup-banner-2.jpg" alt="팝업 배너 2">
            </div>
            <div class="popup-banner-slide">
                <img src="img/popup-banner-3.jpg" alt="팝업 배너 3">
            </div>
            <div class="popup-banner-slide">
                <img src="img/popup-banner-4.jpg" alt="팝업 배너 4">
            </div>
            <div class="popup-banner-slide">
                <img src="img/popup-banner-5.jpg" alt="팝업 배너 5">
            </div>
        </div>
        
        <!-- 네비게이션 도트 -->
        <div class="popup-banner-dots">
            <span class="popup-dot active" data-slide="0"></span>
            <span class="popup-dot" data-slide="1"></span>
            <span class="popup-dot" data-slide="2"></span>
            <span class="popup-dot" data-slide="3"></span>
            <span class="popup-dot" data-slide="4"></span>
        </div>
        
        <!-- 하단 버튼 영역 -->
        <div class="popup-banner-controls">
            <button class="popup-hide-today">오늘 하루 보지않음</button>
            <button class="popup-close">닫기</button>
        </div>
    </div>
</div>

<!-- 성공 팝업 (테마 컬러 적용) -->
<div id="success-popup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 9999; align-items: center; justify-content: center;">
    <div style="
        background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%); 
        border: 2px solid #01FF75; 
        padding: 50px 40px; 
        border-radius: 15px; 
        text-align: center; 
        max-width: 450px; 
        margin: 20px;
        box-shadow: 0 20px 40px rgba(1, 255, 117, 0.3);
        backdrop-filter: blur(10px);
    ">
        <div style="
            font-size: 48px; 
            margin-bottom: 20px;
            color: #01FF75;
            animation: checkmark 0.6s ease-in-out;
        ">✅</div>
        <h3 style="
            color: #01FF75; 
            margin-bottom: 15px; 
            font-size: 24px;
            font-weight: 700;
        ">메시지 전송 완료!</h3>
        <p style="
            color: #ffffff; 
            margin-bottom: 35px; 
            line-height: 1.6;
            font-size: 16px;
            opacity: 0.9;
        ">메시지가 성공적으로 전송되었습니다.<br>빠른 시일 내에 답변드리겠습니다.</p>
        <button onclick="closePopup()" style="
            background: linear-gradient(135deg, #01FF75 0%, #00cc5a 100%); 
            color: #000000; 
            border: none; 
            padding: 15px 35px; 
            border-radius: 8px; 
            cursor: pointer;
            font-size: 16px;
            font-weight: 700;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(1, 255, 117, 0.4);
        " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 12px 25px rgba(1, 255, 117, 0.6)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 20px rgba(1, 255, 117, 0.4)';">확인</button>
    </div>
</div>

<style>
@keyframes checkmark {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* 팝업 나타나는 애니메이션 */
#success-popup {
    animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        backdrop-filter: blur(0px);
    }
    to {
        opacity: 1;
        backdrop-filter: blur(10px);
    }
}
</style>

<script>
document.getElementById('contact-form').addEventListener('submit', async function(e) {
    e.preventDefault(); // 기본 폼 제출 방지
    
    const form = e.target;
    const submitBtn = document.getElementById('submit-btn');
    const formData = new FormData(form);
    
    // 버튼 비활성화
    submitBtn.textContent = '전송 중...';
    submitBtn.disabled = true;
    
    try {
        const response = await fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: {
                'Accept': 'application/json'
            }
        });
        
        if (response.ok) {
            // 성공 팝업 표시
            document.getElementById('success-popup').style.display = 'flex';
            
            // 폼 초기화
            form.reset();
        } else {
            alert('메시지 전송에 실패했습니다. 다시 시도해주세요.');
        }
    } catch (error) {
        alert('네트워크 오류가 발생했습니다. 다시 시도해주세요.');
    }
    
    // 버튼 복원
    submitBtn.textContent = '메시지 보내기';
    submitBtn.disabled = false;
});

function closePopup() {
    document.getElementById('success-popup').style.display = 'none';
}

// 팝업 배경 클릭시 닫기
document.getElementById('success-popup').addEventListener('click', function(e) {
    if (e.target === this) {
        closePopup();
    }
});
</script>

<!-- 메인페이지 전용 JavaScript -->
<script src="{{ "components/popup.js" | relURL }}"></script>

{{ end }}